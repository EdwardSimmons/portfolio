import{s as h,H as p,I as d,k as w,u as b}from"./index-zAT4FI_k.js";function P(e,r){var n;const t=h();return p(()=>{t.value=e()},{...r,flush:(n=r==null?void 0:r.flush)!=null?n:"sync"}),d(t)}function s(e){return typeof e=="function"?e():b(e)}typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const f=()=>{};function y(e,r){function n(...t){return new Promise((o,i)=>{Promise.resolve(e(()=>r.apply(this,t),{fn:r,thisArg:this,args:t})).then(o).catch(i)})}return n}const F=e=>e();function T(e,r={}){let n,t,o=f;const i=a=>{clearTimeout(a),o(),o=f};return a=>{const l=s(e),c=s(r.maxWait);return n&&i(n),l<=0||c!==void 0&&c<=0?(t&&(i(t),t=null),Promise.resolve(a())):new Promise((u,m)=>{o=r.rejectOnCancel?m:u,c&&!t&&(t=setTimeout(()=>{n&&i(n),t=null,u(a())},c)),n=setTimeout(()=>{t&&i(t),t=null,u(a())},l)})}}function W(e,r,n={}){const{eventFilter:t=F,...o}=n;return w(e,y(t,r),o)}function O(e,r,n={}){const{debounce:t=0,maxWait:o=void 0,...i}=n;return W(e,r,{...i,eventFilter:T(t,{maxWait:o})})}export{P as c,O as w};
